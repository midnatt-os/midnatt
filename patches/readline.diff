diff -Naru readline-8.2/support/config.sub readline-8.2-patched/support/config.sub
--- readline-8.2/support/config.sub	2022-01-11 20:38:29.000000000 +0100
+++ readline-8.2-patched/support/config.sub	2025-06-26 23:22:38.844939910 +0200
@@ -1350,6 +1350,9 @@
 # Now, normalize the OS (knowing we just have one component, it's not a kernel,
 # etc.)
 case $os in
+    midnatt*)
+        os=midnatt
+        ;;
 	# First match some system type aliases that might get confused
 	# with valid system types.
 	# solaris* is a basic system type, with this one exception.
@@ -1711,6 +1714,9 @@
 
 # Now, validate our (potentially fixed-up) OS.
 case $os in
+    midnatt*)
+        os=midnatt
+        ;;
 	# Sometimes we do "kernel-libc", so those need to count as OSes.
 	musl* | newlib* | relibc* | uclibc*)
 		;;
diff -Naru readline-8.2/support/shlib-install readline-8.2-patched/support/shlib-install
--- readline-8.2/support/shlib-install	2019-12-13 15:46:13.000000000 +0100
+++ readline-8.2-patched/support/shlib-install	2025-06-26 23:15:55.228678605 +0200
@@ -71,7 +71,7 @@
 # Cygwin installs both a dll (which must go in $BINDIR) and an implicit
 # link library (in $libdir)
 case "$host_os" in
-hpux*|darwin*|macosx*|linux*|solaris2*)
+hpux*|darwin*|macosx*|linux*|solaris2*|midnatt*)
 	if [ -z "$uninstall" ]; then
 		chmod 755 ${INSTALLDIR}/${LIBNAME}
 	fi ;;
@@ -118,7 +118,7 @@
 # Create symlinks to the installed library.  This section is incomplete.
 #
 case "$host_os-$host_vendor" in
-*linux*|freebsd*|dragonfly*)
+*linux*|freebsd*|dragonfly*|midnatt*)
 	# libname.so.M -> libname.so.M.N
 	${echo} ${RM} ${INSTALLDIR}/$LINK2
 	if [ -z "$uninstall" ]; then
diff -Naru readline-8.2/support/shobj-conf readline-8.2-patched/support/shobj-conf
--- readline-8.2/support/shobj-conf	2021-12-03 16:54:46.000000000 +0100
+++ readline-8.2-patched/support/shobj-conf	2025-06-26 23:17:27.946346396 +0200
@@ -123,12 +123,12 @@
 	;;
 
 # All versions of Linux (including Gentoo/FreeBSD) or the semi-mythical GNU Hurd.
-linux*-*|gnu*-*|k*bsd*-gnu-*|midnightbsd*|freebsd*|dragonfly*)
+linux*-*|gnu*-*|k*bsd*-gnu-*|midnightbsd*|freebsd*|dragonfly*|*-mlibc-*)
 	SHOBJ_CFLAGS=-fPIC
 	SHOBJ_LD='${CC}'
 	SHOBJ_LDFLAGS='-shared -Wl,-soname,$@'
 
-	SHLIB_XLDFLAGS='-Wl,-rpath,$(libdir) -Wl,-soname,`basename $@ $(SHLIB_MINOR)`'
+	SHLIB_XLDFLAGS='-Wl,-soname,`basename $@ $(SHLIB_MINOR)`'
 	SHLIB_LIBVERSION='$(SHLIB_LIBSUFF).$(SHLIB_MAJOR)$(SHLIB_MINOR)'
 	;;
 
@@ -171,7 +171,7 @@
 		;;
 	esac
 
-	SHLIB_LIBS='-lncurses'	# see if -lcurses works on MacOS X 10.1 
+	SHLIB_LIBS='-lncurses'	# see if -lcurses works on MacOS X 10.1
 	;;
 
 openbsd*|netbsd*|mirbsd*)
@@ -311,7 +311,7 @@
 #
 #	SHLIB_XLDFLAGS='+b $(libdir)'
 #	SHLIB_LIBSUFF='sl'
-#	SHLIB_LIBVERSION='$(SHLIB_LIBSUFF).$(SHLIB_MAJOR)'	
+#	SHLIB_LIBVERSION='$(SHLIB_LIBSUFF).$(SHLIB_MAJOR)'
 
 	;;
 
@@ -343,7 +343,7 @@
 #
 #	SHLIB_XLDFLAGS='+b $(libdir)'
 #	SHLIB_LIBSUFF='sl'
-#	SHLIB_LIBVERSION='$(SHLIB_LIBSUFF).$(SHLIB_MAJOR)'	
+#	SHLIB_LIBVERSION='$(SHLIB_LIBSUFF).$(SHLIB_MAJOR)'
 
 	;;
 
@@ -371,7 +371,7 @@
 #
 #	SHLIB_XLDFLAGS='-Wl,+b,$(libdir)'
 #	SHLIB_LIBSUFF='so'
-#	SHLIB_LIBVERSION='$(SHLIB_LIBSUFF).$(SHLIB_MAJOR)'	
+#	SHLIB_LIBVERSION='$(SHLIB_LIBSUFF).$(SHLIB_MAJOR)'
 #	SHLIB_LIBS='$(TERMCAP_LIB)'
 	;;
 
